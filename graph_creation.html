<!DOCTYPE html>
<html lang="en">

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8">
        <title>Visualização de Algoritmos em Grafos</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
        <link href="style/style.css" rel="stylesheet">
    </head>

    <body>
        <div class="board">
            <div class="panel">
                <a class="btn btn-danger" onclick="graph.clear()">Limpar grafo</a>
                <div class="flex-grow-1"></div>
                <div class="flex-row">
                    <a class="btn btn-primary" onclick="importGraph()">Importar grafo</a>
                    <a class="btn btn-primary" onclick="exportGraph()">Exportar grafo</a>
                </div>
            </div>
            <div class="center">
                <canvas id="canvas" width="600" height="600"></canvas>
                <div class="instructions">
                    <h4>Instruções:</h4>
                    <div class="info">
                        <span class="key">
                            <svg viewBox="0 0 1080 1350" width="40" height="40"><path fill="white" d="M539,203.646c-117.475,0-213,95.572-213,213.047v246.613c0,117.475,95.525,213.047,213,213.047s213-95.572,213-213.047  V416.693C752,299.219,656.475,203.646,539,203.646z M730,663.307c0,105.388-85.613,191.126-191,191.126s-191-85.738-191-191.126V533  h382V663.307z M730,511H549V225.846c101,5.357,181,88.908,181,190.848V511z"/></svg>
                        </span>
                        <p>Cria vértices e/ou seleciona componentes</p>
                    </div>
                    <div class="info">
                        <span class="key">
                            <svg viewBox="0 0 1080 1350" width="40" height="40"><path fill="white" d="M326,416.693v246.613c0,117.475,95.525,213.047,213,213.047s213-95.572,213-213.047V416.693  c0-117.475-95.525-213.047-213-213.047S326,299.219,326,416.693z M348,533h382v130.307c0,105.388-85.613,191.126-191,191.126  s-191-85.738-191-191.126V533z M348,416.693c0-101.939,80-185.49,181-190.848V511H348V416.693z"/></svg>
                        </span>
                        <p>Deleta componentes</p>
                    </div>
                    <div class="info">
                        <span class="key">&nbsp;&nbsp;Shift&nbsp;&nbsp;</span>
                        <p>+</p>
                        <span class="key">
                            <svg viewBox="0 0 1080 1350" width="40" height="40"><path fill="white" d="M539,203.646c-117.475,0-213,95.572-213,213.047v246.613c0,117.475,95.525,213.047,213,213.047s213-95.572,213-213.047  V416.693C752,299.219,656.475,203.646,539,203.646z M730,663.307c0,105.388-85.613,191.126-191,191.126s-191-85.738-191-191.126V533  h382V663.307z M730,511H549V225.846c101,5.357,181,88.908,181,190.848V511z"/></svg>
                        </span>
                        <p>Cria uma aresta entre dois vértices</p>
                    </div>
                    <div class="info">
                        <span class="key">&nbsp;&nbsp;Crtl&nbsp;&nbsp;</span>
                        <p>+</p>
                        <span class="key">
                            <svg viewBox="0 0 1080 1350" width="40" height="40"><path fill="white" d="M539,203.646c-117.475,0-213,95.572-213,213.047v246.613c0,117.475,95.525,213.047,213,213.047s213-95.572,213-213.047  V416.693C752,299.219,656.475,203.646,539,203.646z M730,663.307c0,105.388-85.613,191.126-191,191.126s-191-85.738-191-191.126V533  h382V663.307z M730,511H549V225.846c101,5.357,181,88.908,181,190.848V511z"/></svg>
                        </span>
                        <p>Cria uma aresta direcionada entre dois vértices</p>
                    </div>
                    <div class="info">
                        <span class="key">+</span>
                        <p>Aumenta o valor do componente selecionado</p>
                    </div>
                    <div class="info">
                        <span class="key">-</span>
                        <p>Diminui o valor do componente selecionado</p>
                    </div>
                    <div class="info">
                        <span class="key">S</span>
                        <p>Marca o vértice como vértice de início</p>
                    </div>
                    <div class="info">
                        <span class="key">E</span>
                        <p>Marca o vértice como vértice de fim</p>
                    </div>
                </div>
            </div>
            <div class="panel">
                <a class="btn btn-secondary" href="index.html">Voltar</a>
                <div class="flex-grow-1"></div>
                <a class="btn btn-success" onclick="goToVisualization()">Continuar</a>
            </div>
        </div>
    </body>

    <script src="scripts/algorithms.js"></script>
    <script src="scripts/graph.js"></script>
    <script src="scripts/graph_drawing.js"></script>
    <script src="scripts/graph_common.js"></script>
    <script src="scripts/graph_creation.js"></script>

    <script>
        function goToVisualization() {
            let v = algorithms[algorithm].verify(graph)
            if(v !== null) {
                alert(v)
            }else {
                window.location = "graph_visualization.html?algorithm=" + algorithm + "&graph=" + encodeGraph(graph)
            }
        }
    </script>

</html>